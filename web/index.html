<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="assets/logos/favicon.ico" type="image/x-icon">
    <link rel="icon" href="assets/logos/favicon.ico" type="image/x-icon">
    <title>gitGost — Anonymous Git Contributions</title>
    <link rel="apple-touch-icon" sizes="57x57" href="assets/logos/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="assets/logos/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="assets/logos/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="assets/logos/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="assets/logos/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="assets/logos/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="assets/logos/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="assets/logos/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/logos/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="assets/logos/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/logos/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="assets/logos/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/logos/favicon-16x16.png">
    <link rel="manifest" href="assets/logos/manifest.json">
    <meta name="msapplication-TileColor" content="#d16014">
    <meta name="msapplication-TileImage" content="assets/logos/ms-icon-144x144.png">
    <meta name="theme-color" content="#d16014">
    <meta name="description" content="Contribute to any GitHub repo without leaving a trace. Anonymous Git contributions with gitGost - privacy first, zero accounts, open source.">
    <meta name="keywords" content="anonymous git contributions, git privacy, github anonymous pr, open source git, gitgost, anonymous coding, privacy git, zero trace git, git contributions anonymous, gitgost app">
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://gitgost.leapcell.app">
    <meta property="og:title" content="gitGost — Anonymous Git Contributions">
    <meta property="og:description" content="Contribute to any GitHub repo without leaving a trace. Anonymous Git contributions with gitGost - privacy first, zero accounts, open source.">
    <meta property="og:image" content="https://gitgost.leapcell.app/assets/logos/favicon.ico">
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://gitgost.leapcell.app">
    <meta property="twitter:title" content="gitGost — Anonymous Git Contributions">
    <meta property="twitter:description" content="Contribute to any GitHub repo without leaving a trace.">
    <meta property="twitter:image" content="https://gitgost.leapcell.app/assets/logos/favicon.ico">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "gitGost",
      "alternateName": "Anonymous Git Contributions",
      "description": "Contribute to any GitHub repo without leaving a trace. Anonymous Git contributions with gitGost - privacy first, zero accounts, open source.",
      "url": "https://gitgost.leapcell.app",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    <style>
        :root {
            --bg: #0d1117;
            --fg: #c9d1d9;
            --fg-secondary: #8b949e;
            --bg-secondary: #161b22;
            --bg-hover: #1f2937;
            --accent: #ffa657;
            --accent-dark: #f0883e;
            --border: #30363d;
            --card: #161b22;
            --code-bg: #010409;
            --shadow: rgba(0, 0, 0, 0.5);
            --shadow-hover: rgba(0, 0, 0, 0.7);
            --radius-lg: 16px;
            --radius-md: 12px;
            --radius-sm: 8px;
            --radius-pill: 999px;
            --issue-shell-bg: rgba(21, 21, 30, 0.9);
            --issue-shell-border: rgba(255, 255, 255, 0.04);
            --issue-form-bg: var(--code-bg);
            --issue-form-border: rgba(255, 255, 255, 0.06);
            --issue-input-bg: rgba(255, 255, 255, 0.02);
            --issue-input-border: rgba(255, 255, 255, 0.08);
            --issue-gradient-overlay: rgba(255, 166, 87, 0.08);
        }

        :root[data-theme="light"] {
            --bg: #f4f5f7;
            --fg: #1a1f2e;
            --fg-secondary: #5c6370;
            --bg-secondary: #eef0f3;
            --bg-hover: #e8eaed;
            --accent: #c05c10;
            --accent-dark: #a34d0d;
            --border: #dde1e7;
            --card: #ffffff;
            --code-bg: #f0f2f5;
            --shadow: rgba(0, 0, 0, 0.07);
            --shadow-hover: rgba(0, 0, 0, 0.12);
            --radius-lg: 16px;
            --radius-md: 12px;
            --radius-sm: 8px;
            --radius-pill: 999px;
            --issue-shell-bg: #ffffff;
            --issue-shell-border: var(--border);
            --issue-form-bg: var(--card);
            --issue-form-border: var(--border);
            --issue-input-bg: #f8f9fb;
            --issue-input-border: #cdd1d9;
            --issue-gradient-overlay: rgba(192, 92, 16, 0.04);
        }

        @media (prefers-color-scheme: light) {
            :root:not([data-theme]) {
                --bg: #f4f5f7;
                --fg: #1a1f2e;
                --fg-secondary: #5c6370;
                --bg-secondary: #eef0f3;
                --bg-hover: #e8eaed;
                --accent: #c05c10;
                --accent-dark: #a34d0d;
                --border: #dde1e7;
                --card: #ffffff;
                --code-bg: #f0f2f5;
                --shadow: rgba(0, 0, 0, 0.07);
                --shadow-hover: rgba(0, 0, 0, 0.12);
                --radius-lg: 16px;
                --radius-md: 12px;
                --radius-sm: 8px;
                --radius-pill: 999px;
                --issue-shell-bg: #ffffff;
                --issue-shell-border: var(--border);
                --issue-form-bg: var(--card);
                --issue-form-border: var(--border);
                --issue-input-bg: #f8f9fb;
                --issue-input-border: #cdd1d9;
                --issue-gradient-overlay: rgba(192, 92, 16, 0.04);
            }
        }

        *, *::before, *::after { box-sizing: border-box; }
        body {
            margin: 0;
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background: var(--bg);
            color: var(--fg);
            line-height: 1.6;
            min-height: 100dvh;
            display: grid;
            place-items: center;
            padding: 2rem 1rem;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        main { width: 100%; max-width: 900px; position: relative; }

        .theme-toggle {
            position: fixed;
            top: 1.5rem;
            right: 1.5rem;
            z-index: 1000;
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }
        .theme-btn {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            vertical-align: middle;
            line-height: 1;
            box-shadow: 0 2px 8px var(--shadow);
            transition: box-shadow 0.2s ease, transform 0.15s ease;
            padding: 0;
            font-size: 1rem;
            color: var(--fg);
            margin-top: 14px;
        }
        .theme-btn:hover {
            box-shadow: 0 4px 14px var(--shadow-hover);
            transform: scale(1.08);
        }
        .theme-btn:active {
            transform: scale(0.95);
        }

        header { text-align: center; margin-bottom: 3rem; }
        h1 {
            font-family: 'IBM Plex Mono', monospace;
            font-size: clamp(2.8rem, 8vw, 4.5rem);
            font-weight: 700;
            background: linear-gradient(90deg, var(--accent), #ff6b6b);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 0 0 .4rem;
            letter-spacing: -0.02em;
        }
        .tagline {
            font-size: clamp(1.1rem, 4vw, 1.35rem);
            opacity: 0.85;
            max-width: 680px;
            margin: 0 auto 1.5rem;
        }
        .badges {
            display: flex;
            flex-wrap: wrap;
            gap: .6rem;
            justify-content: center;
            margin-bottom: 2rem;
        }
        .badge {
            background: var(--card);
            border: 1px solid var(--border);
            padding: .35rem .9rem;
            border-radius: 6px;
            font-family: 'IBM Plex Mono', monospace;
            font-size: .8rem;
            font-weight: 500;
        }

        /* PR counter */
        .stats-banner {
            padding: 2rem;
            border-radius: var(--radius-md);
            text-align: center;
            margin: 2rem 0 3rem;
            border: 1px solid var(--border);
            background: var(--card);
        }
        .stats-number {
            font-family: 'IBM Plex Mono', monospace;
            font-size: clamp(3rem, 10vw, 5rem);
            font-weight: 700;
            color: #ff6b6b;
            margin: 0;
            line-height: 1;
        }
        .stats-label {
            color: #ff6b6b;
            font-size: 1.2rem;
            margin-top: .5rem;
            font-weight: 500;
        }

        nav {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1.8rem;
            margin: 2.5rem 0 4rem;
            font-weight: 500;
        }
        nav a {
            color: var(--fg);
            text-decoration: none;
            opacity: 0.7;
            transition: all .2s;
        }
        nav a:hover { opacity: 1; color: var(--accent); }

        /* Markdown editor */
        .md-editor {
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            background: var(--card);
        }

        .md-tab {
            border-radius: 0;
        }

        .md-tabs {
            display: flex;
            border-bottom: 1px solid var(--border);
        }
        .md-tab {
            flex: 1;
            padding: .65rem;
            background: transparent;
            border: none;
            color: var(--fg);
            font-weight: 600;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            border-radius: var(--radius-sm) var(--radius-sm) 0 0;
        }
        .md-tab.active { border-bottom-color: var(--accent); color: var(--accent); }
        .md-input {
            width: 100%;
            min-height: 160px;
            border: none;
            background: transparent;
            color: var(--fg);
            padding: 1rem;
            resize: vertical;
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
        }
        .md-input:focus { outline: none; }
        .md-preview {
            padding: 1rem;
            min-height: 160px;
        }
        .md-preview pre { background: var(--code-bg); padding: .8rem; border-radius: var(--radius-sm); overflow: auto; }
        .md-preview code { background: var(--code-bg); padding: .2rem .35rem; border-radius: var(--radius-sm); }
        .md-preview blockquote { border-left: 4px solid var(--border); margin: 0; padding-left: .75rem; color: #8b949e; }
        .md-preview ul, .md-preview ol { padding-left: 1.25rem; }

        /* Hide arrows in numeric inputs */
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            appearance: textfield;
            -moz-appearance: textfield;
        }

        .terminal {
            background: #1a1b26;
            border: 1px solid #2d2f3f;
            border-radius: var(--radius-md);
            font-family: 'IBM Plex Mono', monospace;
            font-size: clamp(0.85rem, 2.5vw, 0.95rem);
            overflow-x: auto;
            margin: 2rem 0;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.45);
            transition: all 0.3s ease;
        }
        .terminal-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }
        .terminal-tab {
            padding: 0.4rem 1rem;
            border: 1px solid var(--border);
            border-radius: var(--radius-pill);
            background: transparent;
            color: var(--fg-secondary);
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.82rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .terminal-tab:hover {
            color: var(--fg);
            border-color: var(--fg-secondary);
        }
        .terminal-tab.active {
            background: #1a1b26;
            color: #a9b1d6;
            border-color: #2d2f3f;
        }

        .terminal-titlebar {
            height: 40px;
            background: #252636;
            border-bottom: 1px solid #2d2f3f;
            border-radius: var(--radius-md) var(--radius-md) 0 0;
            display: flex;
            align-items: center;
            padding: 0 16px;
            gap: 8px;
            flex-shrink: 0;
        }
        .terminal-btn {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            flex-shrink: 0;
        }
        .terminal-btn.close  { background: #ff5f57; }
        .terminal-btn.min    { background: #febc2e; }
        .terminal-btn.max    { background: #28c840; }
        .terminal-body {
            padding: 1.25rem 1.5rem;
            white-space: pre;
            color: #a9b1d6;
            line-height: 1.7;
        }
        .terminal .comment { color: #565f89; }
        .terminal .prompt { color: #7aa2f7; font-weight: 600; }
        .terminal .success { color: #9ece6a; }
        .terminal .hl { color: #ffa657; font-weight: 600; }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(280px, 100%), 1fr));
            gap: 1.5rem;
            margin: 3rem 0;
        }
        .card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            padding: 1.8rem;
            transition: all .3s ease;
        }
        .card:hover {
            border-color: var(--accent);
            box-shadow: 0 12px 32px var(--shadow-hover);
            transform: translateY(-2px);
        }
        .card h3 {
            font-family: 'IBM Plex Mono', monospace;
            color: var(--accent);
            margin-bottom: .8rem;
            font-size: 1.15rem;
        }

        /* Recent PRs */
        .pr-list {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .pr-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            transition: background .2s;
        }
        .pr-item:last-child { border-bottom: none; }
        .pr-item:hover { background: var(--bg); }
        .pr-repo {
            font-family: 'IBM Plex Mono', monospace;
            font-weight: 600;
            color: var(--accent);
            flex: 1;
        }
        .pr-time {
            font-size: 0.85rem;
            opacity: 0.6;
        }
        .pr-link {
            color: var(--fg);
            text-decoration: none;
            padding: .4rem .8rem;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            font-size: .85rem;
            transition: all .2s;
        }
        .pr-link:hover {
            border-color: var(--accent);
            background: var(--accent);
            color: white;
        }
        .loading {
            text-align: center;
            padding: 2rem;
            opacity: 0.6;
        }

        /* Badge section */
        .badge-wrap {
            background: linear-gradient(145deg, rgba(255,166,87,0.12), rgba(255,107,107,0.12));
            border: 1px solid var(--accent);
            border-radius: var(--radius-lg);
            padding: 1px;
        }
        .badge-inner {
            background: var(--card);
            border-radius: var(--radius-md);
            padding: 1.8rem;
        }
        .badge-layout {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 1.2rem;
            align-items: start;
        }
        .badge-meta {
            display: grid;
            gap: .6rem;
        }
        .badge-preview {
            display: inline-flex;
            align-items: center;
            gap: .6rem;
            padding: .5rem .8rem;
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            width: fit-content;
        }
        .badge-code {
            background: var(--code-bg);
            border: 1px solid var(--border);
            padding: .9rem;
            border-radius: var(--radius-sm);
            font-family: 'IBM Plex Mono', monospace;
            font-size: .9rem;
            overflow-x: auto;
        }
        .badge-generator {
            display: grid;
            gap: .6rem;
        }
        .badge-generator label { font-weight: 600; opacity: .85; }
        .badge-generator input {
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: .75rem .9rem;
            color: var(--fg);
            font-family: 'IBM Plex Mono', monospace;
        }
        button {
            margin-top: 14px;
            width: 100%;
            padding: 12px;
            border-radius: var(--radius-sm);
            border: none;
            background: linear-gradient(135deg, #ffa657, #ff6b6b);
            color: #0d1117;
            font-weight: 700;
            font-size: 15px;
            cursor: pointer;
        }
        .badge-generator button {
            font-family: 'IBM Plex Mono', monospace;
        }
        .badge-result {
            min-height: 24px;
            font-family: 'IBM Plex Mono', monospace;
        }
        .badge-copy-row {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: .6rem;
            align-items: center;
        }
        .badge-copy-row input {
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: .75rem .9rem;
            color: var(--fg);
            font-family: 'IBM Plex Mono', monospace;
        }
        .badge-copy-row button {
            font-family: 'IBM Plex Mono', monospace;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: .35rem;
            border-radius: var(--radius-sm);
        }

        /* Light mode overrides for issue section */
        :root[data-theme="light"] .issue-container {
            box-shadow: 0 2px 16px rgba(0, 0, 0, 0.06), 0 0 0 1px var(--border);
        }
        :root[data-theme="light"] .form-group input,
        :root[data-theme="light"] .form-group textarea {
            background: #ffffff;
            border-color: #c8cdd6;
            color: #1a1f2e;
        }
        :root[data-theme="light"] .form-group input:focus,
        :root[data-theme="light"] .form-group textarea:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(192, 92, 16, 0.1);
        }
        :root[data-theme="light"] .form-note {
            background: #f0f2f5;
            border-color: #dde1e7;
        }
        :root[data-theme="light"] .issue-tabs {
            border-bottom-color: #dde1e7;
        }
        :root[data-theme="light"] .issue-tab.active {
            font-weight: 600;
        }
        :root[data-theme="light"] .md-editor {
            background: #ffffff;
            border-color: #c8cdd6;
        }
        :root[data-theme="light"] .md-tabs {
            border-bottom-color: #dde1e7;
            background: #f4f5f7;
        }
        @media (prefers-color-scheme: light) {
            :root:not([data-theme]) .form-group input,
            :root:not([data-theme]) .form-group textarea {
                background: #ffffff;
                border-color: #c8cdd6;
                color: #1a1f2e;
            }
            :root:not([data-theme]) .form-group input:focus,
            :root:not([data-theme]) .form-group textarea:focus {
                border-color: var(--accent);
                box-shadow: 0 0 0 3px rgba(192, 92, 16, 0.1);
            }
            :root:not([data-theme]) .form-note {
                background: #f0f2f5;
                border-color: #dde1e7;
            }
            :root:not([data-theme]) .md-editor {
                background: #ffffff;
                border-color: #c8cdd6;
            }
            :root:not([data-theme]) .md-tabs {
                border-bottom-color: #dde1e7;
                background: #f4f5f7;
            }
        }

        /* Forms for anonymous issues - legacy classes kept for compatibility */
        .issue-shell { display: none; }
        .issue-grid { display: none; }
        .issue-note { font-size: .9rem; opacity: .85; margin-top: .4rem; }
        .issue-note a { color: var(--accent); }
        .snippet {
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: 1rem;
            font-family: 'IBM Plex Mono', monospace;
            overflow-x: auto;
            white-space: pre;
            box-shadow: inset 0 1px 0 rgba(255,255,255,0.03);
        }

        .btn {
            display: inline-block;
            width: 100%;
            background: linear-gradient(135deg, #ffa657, #ff6b6b);
            color: #0d1117;
            padding: 12px;
            border-radius: var(--radius-sm);
            text-decoration: none;
            font-weight: 700;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 15px;
            transition: all .2s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
            border: none;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .btn-center { text-align: center; margin: 2rem 0; }

        h2 {
            text-align: center;
            font-size: clamp(1.8rem, 5vw, 2.2rem);
            margin: 4rem 0 2rem;
            font-weight: 600;
        }

        .footer {
            text-align: center;
            margin-top: 6rem;
            padding-top: 3rem;
            opacity: 0.6;
            font-size: .9rem;
            border-top: 1px solid var(--border);
        }
        .footer a { color: var(--accent); text-decoration: none; }

        /* Redesigned Anonymous Issues Section */
        .issue-section {
            margin: 4rem 0;
        }
        .issue-container {
            width: 100%;
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 2rem 2.5rem;
            box-shadow: 0 4px 20px var(--shadow);
        }
        .issue-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .issue-eyebrow {
            color: var(--accent);
            font-size: 0.875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }
        .issue-header h2 {
            margin: 0 0 0.5rem;
            font-size: 1.5rem;
            font-weight: 700;
        }
        .issue-header p {
            color: var(--fg-secondary);
            margin: 0;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        .issue-tabs {
            display: flex;
            border-bottom: 1px solid var(--border);
            margin-bottom: 2rem;
        }
        .issue-tab {
            flex: 1;
            padding: 0.75rem 1rem;
            border: none;
            background: transparent;
            color: var(--fg-secondary);
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .issue-tab:hover {
            color: var(--fg);
            background: var(--bg-hover);
        }
        .issue-tab.active {
            color: var(--accent);
            border-bottom-color: var(--accent);
        }
        .issue-form-container {
            position: relative;
        }
        .issue-form {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        .issue-form.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .repo-input-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .repo-separator {
            color: var(--fg-secondary);
            font-weight: 500;
        }
        .repo-input-group input {
            flex: 1;
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--fg);
            font-size: 0.9rem;
        }
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            background: var(--bg);
            color: var(--fg);
            font-family: inherit;
            font-size: 0.95rem;
            transition: border-color 0.2s ease;
        }
        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--accent);
        }
        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }
        .form-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .form-status {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--fg-secondary);
        }
        .form-note {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: 1rem;
            margin-bottom: 1rem;
        }
        .form-note p {
            margin: 0 0 0.5rem;
            font-size: 0.875rem;
            color: var(--fg-secondary);
        }
        .form-note p:last-child {
            margin-bottom: 0;
        }
        .form-result {
            font-size: 0.875rem;
            color: var(--accent);
            font-weight: 500;
        }

        /* Redesigned Badge Section */
        .badge-section {
            margin: 4rem 0;
        }
        .badge-container {
            max-width: 700px;
            margin: 0 auto;
        }
        .badge-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .badge-eyebrow {
            color: var(--accent);
            font-size: 0.875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }
        .badge-header h3 {
            margin: 0 0 0.5rem;
            font-size: 1.5rem;
            font-weight: 700;
        }
        .badge-header p {
            color: var(--fg-secondary);
            margin: 0;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        .badge-showcase {
            margin-bottom: 2rem;
        }
        .badge-preview-card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 2px 12px var(--shadow);
        }
        .badge-static {
            margin-bottom: 1rem;
        }
        .badge-code {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.8rem;
            color: var(--fg-secondary);
            background: var(--code-bg);
            padding: 0.5rem;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border);
        }
        .badge-generator {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 2rem;
            box-shadow: 0 2px 12px var(--shadow);
        }
        .badge-generator h4 {
            margin: 0 0 0.5rem;
            font-size: 1.2rem;
            font-weight: 600;
        }
        .badge-generator p {
            color: var(--fg-secondary);
            margin: 0 0 1.5rem;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        .badge-form {
            margin-bottom: 1.5rem;
        }
        .badge-result {
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }
        .badge-result p {
            margin: 0;
            color: var(--fg-secondary);
        }
        .badge-copy-section {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: 1rem;
        }
        .badge-generated {
            text-align: center;
            margin-bottom: 1rem;
        }
        .badge-copy-row {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 0.5rem;
            align-items: center;
        }
        .badge-copy-row input {
            padding: 0.5rem;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            background: var(--bg);
            color: var(--fg);
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.8rem;
        }
        .badge-copy-row button {
            padding: 0.5rem;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            background: var(--card);
            color: var(--fg);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .badge-copy-row button:hover {
            background: var(--accent);
            color: white;
        }

@media (max-width: 768px) {
            body { padding: 1.5rem .8rem; }
            main { max-width: 100%; }
            .theme-toggle { top: 1rem; right: 1rem; }
            .theme-btn { width: 36px; height: 36px; font-size: 0.95rem; }
            header { margin-bottom: 2rem; }
            nav { gap: 1.2rem; font-size: .95rem; flex-direction: column; align-items: center; }
            .badges { gap: .4rem; }
            .badge { padding: .25rem .7rem; font-size: .75rem; }
            .stats-banner { padding: 1.5rem; margin: 1.5rem 0 2rem; }
            .stats-number { font-size: clamp(2.5rem, 8vw, 4rem); }
            .stats-label { font-size: 1rem; }
            .terminal { font-size: clamp(0.8rem, 2vw, 0.95rem); }
            .terminal-body { padding: 1rem; }
            .terminal-tabs { flex-wrap: wrap; gap: .4rem; }
            .grid { gap: 1rem; }
            .card { padding: 1.5rem; }
            .card h3 { font-size: 1.1rem; }
            .pr-list { padding: 1rem; }
            .pr-item { padding: 0.8rem; flex-direction: column; align-items: flex-start; gap: 0.5rem; }
            .pr-link { align-self: flex-end; }
            .btn { padding: .8rem 1.8rem; font-size: 0.95rem; }
            h2 { margin: 3rem 0 1.5rem; font-size: clamp(1.5rem, 4vw, 2rem); }
            .footer { margin-top: 4rem; padding-top: 2rem; font-size: .85rem; }
            /* Issue / forms */
            .issue-container { padding: 1.5rem 1.2rem; }
            .issue-tabs { overflow-x: auto; -webkit-overflow-scrolling: touch; }
            .issue-tab { font-size: .85rem; padding: .6rem .75rem; white-space: nowrap; }
            .repo-input-group { flex-wrap: wrap; }
            .repo-input-group input { min-width: 0; }
            .form-actions { flex-direction: column; align-items: stretch; }
            .form-actions .btn { width: 100%; }
            /* Badge */
            .badge-generator { padding: 1.5rem 1.2rem; }
            .badge-copy-row { grid-template-columns: 1fr auto; }
            /* Notifications section */
            .ntfy-lookup-row { flex-direction: column !important; align-items: stretch !important; }
            .ntfy-lookup-row button { width: 100% !important; }
            .ntfy-result-row { flex-direction: column !important; align-items: stretch !important; }
            .ntfy-result-row code { white-space: normal !important; word-break: break-all !important; }
            .ntfy-result-row a, .ntfy-result-row button { width: 100% !important; text-align: center !important; box-sizing: border-box; }
        }
        @media (max-width: 480px) {
            body { padding: 1rem .6rem; }
            .theme-toggle { top: 0.75rem; right: 0.75rem; }
            .theme-btn { width: 34px; height: 34px; }
            nav { gap: 1rem; font-size: .9rem; }
            .badges { justify-content: center; }
            .stats-banner { padding: 1rem; }
            .terminal { font-size: 0.82rem; }
            .terminal-body { padding: 0.75rem; }
            .grid { grid-template-columns: 1fr; gap: 1rem; }
            .card { padding: 1.2rem; }
            .pr-item { padding: 0.6rem; }
            .btn { padding: .7rem 1.5rem; font-size: 0.9rem; }
            .issue-container { padding: 1.2rem .9rem; }
            .issue-header p { font-size: .875rem; }
            .badge-generator { padding: 1.2rem .9rem; }
            .badge-copy-row input { font-size: .75rem; }
        }
    </style>
</head>
<body>
    <div class="theme-toggle">
        <a href="https://github.com/livrasand/gitGost" target="_blank" class="theme-btn" aria-label="GitHub repository" title="GitHub">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
        </a>
        <button class="theme-btn" id="theme-btn" aria-label="Toggle theme" title="Toggle theme"></button>
    </div>
    <main>
        <header>
            <h1>gitGost</h1>
            <div class="tagline">Contribute to any GitHub repo without leaving a trace.</div>
            <div class="badges">
                <span class="badge">Privacy-first</span>
                <span class="badge">Zero accounts</span>
                <span class="badge">AGPL-3.0</span>
                <span class="badge">Go-powered</span>
            </div>
        </header>

        <section id="usage">
            <div class="terminal-tabs">
                <button class="terminal-tab active" data-terminal="push">Push / PR</button>
                <button class="terminal-tab" data-terminal="update">Update PR</button>
                <button class="terminal-tab" data-terminal="fetch">Fetch / Pull (optional)</button>
            </div>
            <div class="terminal" id="terminal-push"><div class="terminal-titlebar"><span class="terminal-btn close"></span><span class="terminal-btn min"></span><span class="terminal-btn max"></span></div><div class="terminal-body"><span class="comment"># Add as remote → push → done. Fully anonymous.</span>
<span class="prompt">$</span> git remote add gost https://gitgost.leapcell.app/v1/gh/torvalds/linux
<span class="prompt">$</span> git checkout -b fix-typo
<span class="prompt">$</span> git commit -am "fix: typo in documentation

This commit fixes a grammatical error in the README.
The word 'recieve' should be 'receive'."
<span class="prompt">$</span> git push gost fix-typo:main
<span class="success">→</span> Anonymized commit + PR opened as @gitgost-anonymous
<span class="success">→</span> PR Hash: <span class="hl">a3f8c1d2</span>  ← save this to update the PR later
<span class="success">→</span> Subscribe to notifications (no account needed):
<span class="success">→</span>   <span class="hl">https://ntfy.sh/gitgost-a3f8c1d2</span></div>
            </div>
            <div class="terminal" id="terminal-update" style="display:none;"><div class="terminal-titlebar"><span class="terminal-btn close"></span><span class="terminal-btn min"></span><span class="terminal-btn max"></span></div><div class="terminal-body"><span class="comment"># Got review feedback? Push a follow-up commit to the same PR.</span>
<span class="comment"># Use the pr-hash returned on the first push.</span>
<span class="prompt">$</span> git commit -am "fix: address review comments"
<span class="prompt">$</span> git push gost fix-typo:main -o pr-hash=<span class="hl">a3f8c1d2</span>
<span class="success">→</span> Existing branch force-updated, PR refreshed — still @gitgost-anonymous
<span class="comment"># If the hash is unknown or the PR was closed, a new PR is created automatically.</span></div>
            </div>
            <div class="terminal" id="terminal-fetch" style="display:none;"><div class="terminal-titlebar"><span class="terminal-btn close"></span><span class="terminal-btn min"></span><span class="terminal-btn max"></span></div><div class="terminal-body"><span class="comment"># Clone or fetch anonymously — no GitHub account needed.</span>
<span class="prompt">$</span> git clone https://anon:@gitgost.leapcell.app/v1/gh/torvalds/linux
<span class="comment"># Or add as remote and fetch/pull later</span>
<span class="prompt">$</span> git remote add gost https://anon:@gitgost.leapcell.app/v1/gh/torvalds/linux
<span class="prompt">$</span> git fetch gost
<span class="prompt">$</span> git pull gost main
<span class="success">→</span> Repository cloned with zero identity exposure</div>
            </div>

         <!-- PR counter -->
        <div class="stats-banner">
            <div class="stats-number" id="prCounter">...</div>
            <div class="stats-label">Anonymous PRs Created</div>
            <div style="margin-top: 1rem; font-size: 0.85rem; opacity: 0.7; max-width: 600px; margin-left: auto; margin-right: auto;">
                Database hosted in <strong>Central Europe (Zurich)</strong><br>
                Only stores: counter + repo name + PR URL. <strong>Zero personal data.</strong>
            </div>
        </div>
        </section>

        <!-- PRs Recientes -->
        <h2 id="recent">Recent Anonymous Contributions</h2>
        <div class="pr-list" id="prList">
            <div class="loading">Loading recent PRs...</div>
        </div>

        <h2>Features</h2>
        <section id="features" class="grid">
            <div class="card">
                <h3>Total Anonymity</h3>
                <p>Strips name, email, timestamps, and all metadata. PR created from @gitgost-anonymous bot.</p>
            </div>
            <div class="card">
                <h3>Detailed PR Descriptions</h3>
                <p>Your commit message becomes the PR description. Provide full context and explanations while staying anonymous.</p>
            </div>
            <div class="card">
                <h3>One Command Setup</h3>
                <p>No tokens, no accounts, no extensions. Just <code>git remote add</code>.</p>
            </div>
            <div class="card">
                <h3>Battle-tested Security</h3>
                <p>Rate limiting, size caps, validation. Pure Go, minimal deps, fully auditable.</p>
            </div>
            <div class="card">
                <h3>Anonymous issues & comments</h3>
                <p>Open issues and comment on any repo without revealing identity. Each message carries a stable anonymous hash.</p>
            </div>
            <div class="card">
                <h3>Fetch & Pull Support</h3>
                <p>Clone, fetch, and pull from any GitHub repo through gitGost. Read code anonymously — no account, no trace.</p>
            </div>
            <div class="card">
                <h3>Persistent PR Updates</h3>
                <p>Got review feedback? Push follow-up commits to the same anonymous PR using a <code>pr-hash</code>. No accounts, no state stored — the hash is derived deterministically from your branch.</p>
            </div>
            <div class="card">
                <h3>Anonymous PR Notifications</h3>
                <p>Subscribe to PR activity via <a href="https://ntfy.sh" target="_blank" rel="noreferrer" style="color:var(--accent);">ntfy.sh</a> — no account, no email. Get push alerts for comments, reviews, merges and closes. Topic: <code>gitgost-{hash}</code>.</p>
            </div>
        </section>


        <h2>Why developers love gitGost</h2>
        <section id="why" class="grid">
            <div class="card">
                <h3>No permanent public record</h3>
                <p>Your commit history shouldn't be an HR liability forever.</p>
            </div>
            <div class="card">
                <h3>Contribute safely to anything</h3>
                <p>Fix bugs in repos your employer or country hates. No trace.</p>
            </div>
            <div class="card">
                <h3>Stop email harvesting</h3>
                <p>Public commits = spam & doxxing. gitGost ends that.</p>
            </div>
            <div class="card">
                <h3>Sometimes you just want to be a ghost</h3>
                <p>One-line typo fixes don't need your name attached for eternity.</p>
            </div>
        </section>

        <!-- Anonymous Issues & PR Comments section -->
        <section class="issue-section">
            <div class="issue-container">
                <div class="issue-header">
                    <div class="issue-eyebrow">Anonymous issues, comments &amp; PR feedback</div>
                    <p>Create issues, comment on them, or leave feedback on Pull Requests — all without exposing your identity. We only keep what's essential: URL, anonymous hash, and <a href="/karma.html" style="color: var(--accent);">karma</a>.</p>
                </div>

                <div class="issue-tabs">
                    <button class="issue-tab active" data-tab="create">Create Issue</button>
                    <button class="issue-tab" data-tab="comment">Post Comment</button>
                    <button class="issue-tab" data-tab="pr-comment">PR Comment</button>
                </div>

                <div class="issue-form-container">
                    <form class="issue-form active" id="create-issue-form">
                        <div class="form-group">
                            <label for="issue-owner">Repository</label>
                            <div class="repo-input-group">
                                <input id="issue-owner" type="text" placeholder="owner" autocomplete="off">
                                <span class="repo-separator">/</span>
                                <input id="issue-repo" type="text" placeholder="repo" autocomplete="off">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="issue-title">Title</label>
                            <input id="issue-title" type="text" placeholder="Brief description of the issue" autocomplete="off">
                        </div>

                        <div class="form-group">
                            <label for="issue-body">Description</label>
                            <div class="md-editor" id="issue-md-editor">
                                <div class="md-tabs">
                                    <button type="button" class="md-tab active" data-tab="write" id="issue-tab-write">Write</button>
                                    <button type="button" class="md-tab" data-tab="preview" id="issue-tab-preview">Preview</button>
                                </div>
                                <textarea id="issue-body" class="md-input" placeholder="Detailed description, steps to reproduce, etc." aria-label="Issue markdown"></textarea>
                                <div class="md-preview" id="issue-preview" style="display:none;"></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="issue-labels">Labels (optional, comma-separated)</label>
                            <input id="issue-labels" type="text" placeholder="bug, enhancement, help wanted" autocomplete="off">
                        </div>

                        <div class="form-actions">
                            <button class="btn primary" id="issue-submit" type="submit">Create Anonymous Issue</button>
                            <div class="form-status" id="issue-status"></div>
                        </div>

                        <div class="form-note">
                            <p>Before creating, please read our <a href="/approach.html" style="color: var(--accent);">approach to comments</a> and <a href="/guidelines.html" style="color: var(--accent);">guidelines</a>.</p>
                            <p>Do not include personal data. We only keep URL + anonymous hash.</p>
                        </div>
                        <div class="form-result" id="issue-result"></div>
                    </form>

                    <form class="issue-form" id="comment-issue-form">
                        <div class="form-group">
                            <label for="comment-owner">Repository</label>
                            <div class="repo-input-group">
                                <input id="comment-owner" type="text" placeholder="owner" autocomplete="off">
                                <span class="repo-separator">/</span>
                                <input id="comment-repo" type="text" placeholder="repo" autocomplete="off">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="comment-number">Issue Number</label>
                            <input id="comment-number" type="number" min="1" placeholder="123" autocomplete="off">
                        </div>

                        <div class="form-group">
                            <label for="comment-token">User Token (optional)</label>
                            <input id="comment-token" type="text" placeholder="Keep your token to maintain karma" autocomplete="off">
                        </div>

                        <div class="form-group">
                            <label for="comment-body">Comment</label>
                            <div class="md-editor" id="comment-md-editor">
                                <div class="md-tabs">
                                    <button type="button" class="md-tab active" data-tab="write" id="comment-tab-write">Write</button>
                                    <button type="button" class="md-tab" data-tab="preview" id="comment-tab-preview">Preview</button>
                                </div>
                                <textarea id="comment-body" class="md-input" placeholder="Your thoughts on this issue..." aria-label="Comment markdown"></textarea>
                                <div class="md-preview" id="comment-preview" style="display:none;"></div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn primary" id="comment-submit" type="submit">Post Anonymous Comment</button>
                            <div class="form-status" id="comment-status"></div>
                        </div>

                        <div class="form-note">
                            <p>Comments include a footer with your anonymous hash and karma.</p>
                        </div>
                        <div class="form-result" id="comment-result"></div>
                    </form>

                    <form class="issue-form" id="pr-comment-issue-form">
                        <div class="form-group">
                            <label for="pr-owner">Repository</label>
                            <div class="repo-input-group">
                                <input id="pr-owner" type="text" placeholder="owner" autocomplete="off">
                                <span class="repo-separator">/</span>
                                <input id="pr-repo" type="text" placeholder="repo" autocomplete="off">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="pr-number">Pull Request Number</label>
                            <input id="pr-number" type="number" min="1" placeholder="42" autocomplete="off">
                        </div>

                        <div class="form-group">
                            <label for="pr-token">User Token (optional)</label>
                            <input id="pr-token" type="text" placeholder="Keep your token to maintain karma" autocomplete="off">
                        </div>

                        <div class="form-group">
                            <label for="pr-comment-body">Comment</label>
                            <div class="md-editor" id="pr-md-editor">
                                <div class="md-tabs">
                                    <button type="button" class="md-tab active" data-tab="write" id="pr-tab-write">Write</button>
                                    <button type="button" class="md-tab" data-tab="preview" id="pr-tab-preview">Preview</button>
                                </div>
                                <textarea id="pr-comment-body" class="md-input" placeholder="Your feedback on this pull request..." aria-label="PR comment markdown"></textarea>
                                <div class="md-preview" id="pr-preview" style="display:none;"></div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn primary" id="pr-comment-submit" type="submit">Post Anonymous PR Comment</button>
                            <div class="form-status" id="pr-comment-status"></div>
                        </div>

                        <div class="form-note">
                            <p>Comments include a footer with your anonymous hash and karma.</p>
                            <p>Do not include personal data. We only keep URL + anonymous hash.</p>
                        </div>
                        <div class="form-result" id="pr-comment-result"></div>
                    </form>

                </div>
            </div>
        </section>

        <!-- PR Notifications section -->
        <section id="notifications" style="margin: 4rem 0; min-width: 0;">
            <div class="issue-container">
                <div class="issue-header">
                    <div class="issue-eyebrow">Anonymous push notifications</div>
                    <h2 style="margin:0 0 .5rem; font-size:1.5rem; font-weight:700;">PR Notifications via ntfy.sh</h2>
                    <p>After pushing, subscribe to your PR topic on <a href="https://ntfy.sh" target="_blank" rel="noreferrer" style="color:var(--accent);">ntfy.sh</a> to get anonymous push notifications — no account, no email required. Works with the ntfy mobile &amp; desktop apps.</p>
                </div>

                <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(min(220px,100%), 1fr)); gap:1rem; margin-bottom:2rem;">
                    <div style="background:var(--bg-secondary); border:1px solid var(--border); border-radius:var(--radius-md); padding:1.4rem;">
                        <div style="font-family:'IBM Plex Mono',monospace; color:var(--accent); font-size:.85rem; font-weight:600; margin-bottom:.5rem;">STEP 1 — Push your PR</div>
                        <p style="margin:0; font-size:.9rem; color:var(--fg-secondary);">After <code>git push gost</code>, the server returns your <strong>PR Hash</strong> (e.g. <code>a3f8c1d2</code>).</p>
                    </div>
                    <div style="background:var(--bg-secondary); border:1px solid var(--border); border-radius:var(--radius-md); padding:1.4rem;">
                        <div style="font-family:'IBM Plex Mono',monospace; color:var(--accent); font-size:.85rem; font-weight:600; margin-bottom:.5rem;">STEP 2 — Subscribe</div>
                        <p style="margin:0; font-size:.9rem; color:var(--fg-secondary);">Open <a href="https://ntfy.sh" target="_blank" rel="noreferrer" style="color:var(--accent);">ntfy.sh</a> or the app and subscribe to <code>gitgost-{your-hash}</code>. No sign-up needed.</p>
                    </div>
                    <div style="background:var(--bg-secondary); border:1px solid var(--border); border-radius:var(--radius-md); padding:1.4rem;">
                        <div style="font-family:'IBM Plex Mono',monospace; color:var(--accent); font-size:.85rem; font-weight:600; margin-bottom:.5rem;">STEP 3 — Get notified</div>
                        <p style="margin:0; font-size:.9rem; color:var(--fg-secondary);">Receive push alerts when your PR gets a comment, review, status change, merge, or close.</p>
                    </div>
                </div>

                <div style="background:var(--bg-secondary); border:1px solid var(--border); border-radius:var(--radius-md); padding:1.25rem; margin-bottom:1.5rem; min-width:0; overflow:hidden;">
                    <div style="font-weight:600; margin-bottom:1rem;">Look up your notification topic</div>
                    <div class="ntfy-lookup-row" style="display:flex; gap:.75rem; align-items:flex-end; flex-wrap:wrap;">
                        <div style="flex:1; min-width:180px;">
                            <label for="ntfy-hash-input" style="display:block; font-size:.85rem; color:var(--fg-secondary); margin-bottom:.4rem;">PR Hash</label>
                            <input id="ntfy-hash-input" type="text" placeholder="a3f8c1d2" autocomplete="off"
                                style="width:100%; padding:.7rem .9rem; border:1px solid var(--border); border-radius:var(--radius-sm); background:var(--bg); color:var(--fg); font-family:'IBM Plex Mono',monospace; font-size:.95rem;">
                        </div>
                        <button onclick="lookupNtfyTopic()" style="margin-top:0; width:auto; padding:.7rem 1.4rem; font-family:'IBM Plex Mono',monospace; font-size:.9rem;">Get Topic</button>
                    </div>
                    <div id="ntfy-result" style="margin-top:1rem; display:none;">
                        <div style="font-size:.85rem; color:var(--fg-secondary); margin-bottom:.5rem;">Your ntfy topic:</div>
                        <div class="ntfy-result-row" style="display:flex; gap:.6rem; align-items:center; flex-wrap:wrap;">
                            <code id="ntfy-topic-display" style="background:var(--code-bg); border:1px solid var(--border); border-radius:var(--radius-sm); padding:.5rem .8rem; font-size:.9rem; flex:1; min-width:0; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; word-break:break-all;"></code>
                            <a id="ntfy-subscribe-link" href="#" target="_blank" rel="noreferrer"
                                style="padding:.5rem 1rem; border-radius:var(--radius-sm); background:linear-gradient(135deg,#ffa657,#ff6b6b); color:#0d1117; font-weight:700; font-size:.85rem; text-decoration:none; white-space:nowrap;">Open in ntfy ↗</a>
                            <button id="ntfy-copy-btn" onclick="copyNtfyTopic()" style="margin-top:0; width:auto; padding:.5rem .8rem; background:var(--card); border:1px solid var(--border); color:var(--fg); font-size:.85rem;" title="Copy topic URL">Copy</button>
                        </div>
                    </div>
                    <div id="ntfy-error" style="margin-top:.75rem; font-size:.85rem; color:#ff6b6b; display:none;"></div>
                </div>

                <div style="font-size:.85rem; color:var(--fg-secondary); line-height:1.6;">
                    <strong>Privacy note:</strong> The topic name is derived from your PR hash. No personal data is stored or transmitted. The ntfy topic is public by design — keep your PR hash private if you want to limit who can subscribe.
                    Install the ntfy app: <a href="https://play.google.com/store/apps/details?id=io.heckel.ntfy" target="_blank" rel="noreferrer" style="color:var(--accent);">Android</a> ·
                    <a href="https://apps.apple.com/us/app/ntfy/id1625396347" target="_blank" rel="noreferrer" style="color:var(--accent);">iOS</a> ·
                    <a href="https://ntfy.sh/docs/subscribe/desktop/" target="_blank" rel="noreferrer" style="color:var(--accent);">Desktop</a>
                </div>
            </div>
        </section>

        <section class="badge-section">
            <div class="badge-container">
                <div class="badge-header">
                    <div class="badge-eyebrow">Show your support</div>
                    <h3>Welcome anonymous contributions</h3>
                    <p>Make it visible that your repository accepts PRs via gitGost. Add our badge to your README.</p>
                </div>

                <div class="badge-showcase">
                    <div class="badge-preview-card">
                        <div class="badge-static">
                            <img src="/badges/anonymous-friendly.svg" alt="Anonymous Contributor Friendly" style="height: 24px;">
                        </div>
                        <div class="badge-code">
                            <code>![Anonymous Contributor Friendly](https://gitgost.leapcell.app/badges/anonymous-friendly.svg)</code>
                        </div>
                    </div>
                </div>

                <div class="badge-generator">
                    <h4>Get a dynamic badge</h4>
                    <p>Add a <code>.gitgost.yml</code> file to your repo root to enable verification and get a dynamic badge that shows your acceptance of anonymous contributions.</p>

                    <div class="badge-form">
                        <div class="form-group">
                            <label for="repo-input">Repository (owner/repo)</label>
                            <input type="text" id="repo-input" placeholder="your-username/your-repo" autocomplete="off">
                        </div>
                        <div class="form-group">
                            <label for="badge-type">Badge type</label>
                            <select id="badge-type">
                                <option value="friendly">Anonymous Contributor Friendly</option>
                                <option value="pr-count">Anonymous PRs counter</option>
                            </select>
                        </div>
                        <button onclick="generateBadge()" class="btn primary" id="generate-btn">Generate Badge</button>
                    </div>

                    <div class="badge-result" id="badge-result"></div>

                    <div class="badge-copy-section" id="badge-copy-section" style="display:none;">
                        <div class="badge-generated">
                            <img id="generated-badge" alt="Generated badge" style="height: 20px;">
                        </div>
                        <div class="badge-copy-row">
                            <input type="text" id="badge-markdown" readonly>
                            <button id="badge-copy-btn" onclick="copyBadgeMarkdown()" aria-label="Copy markdown" title="Copy">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true" focusable="false">
                                    <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path>
                                    <path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="footer">
            Built for developers who actually care about privacy • <a href="https://github.com/livrasand/gitGost" target="_blank">github.com/livrasand/gitGost</a><br>
            Icons from <a href="https://iconoir.com/" target="_blank">Iconoir</a> by Luca Burgio with License: MIT<br>
            The gitGost logo is <a href="https://thenounproject.com/browse/icons/term/anonymous/" target="_blank" title="anonymous Icons">anonymous</a> by Ian Banyuke from <a href="https://thenounproject.com" target="_blank">Noun Project</a> (CC BY 3.0)
        </div>
    </main>

    <script>
        // Theme system
        (function() {
            const THEME_KEY = 'gitgost-theme';
            const root = document.documentElement;
            const btn = document.getElementById('theme-btn');
            const cycle = ['auto', 'light', 'dark'];
            const icons = { 
                light: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 11.507a9.493 9.493 0 0 0 18 4.219c-8.507 0-12.726-4.22-12.726-12.726A9.49 9.49 0 0 0 3 11.507"/></svg>', 
                dark: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 18a6 6 0 1 0 0-12a6 6 0 0 0 0 12m10-6h1M12 2V1m0 22v-1m8-2l-1-1m1-15l-1 1M4 20l1-1M4 4l1 1m-4 7h1"/></svg>', 
                auto: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3.2 14.222V4a2 2 0 0 1 2-2h13.6a2 2 0 0 1 2 2v10.222m-17.6 0h17.6m-17.6 0l-1.48 5.234A2 2 0 0 0 3.644 22h16.712a2 2 0 0 0 1.924-2.544l-1.48-5.234"/><path stroke-linecap="round" stroke-linejoin="round" d="M11 19h2"/></g></svg>' 
            };

            function setTheme(theme) {
                btn.innerHTML = icons[theme];
                btn.title = { light: 'Light', dark: 'Dark', auto: 'Auto' }[theme];
                if (theme === 'auto') {
                    root.removeAttribute('data-theme');
                    localStorage.removeItem(THEME_KEY);
                } else {
                    root.setAttribute('data-theme', theme);
                    localStorage.setItem(THEME_KEY, theme);
                }
            }

            function currentTheme() {
                return localStorage.getItem(THEME_KEY) || 'auto';
            }

            btn.addEventListener('click', () => {
                const next = cycle[(cycle.indexOf(currentTheme()) + 1) % cycle.length];
                setTheme(next);
            });

            setTheme(currentTheme());
        })();

        // Determine API base URL
        const API_BASE = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
            ? `http://${window.location.host}` 
            : 'https://gitgost.leapcell.app';

        // Load stats
        async function loadStats() {
            try {
                const response = await fetch(`${API_BASE}/api/stats`);
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                const data = await response.json();
                
                // Update counter with animation
                const counter = document.getElementById('prCounter');
                animateCounter(counter, 0, data.total_prs || 0, 1500);
            } catch (error) {
                console.error('Error loading stats:', error);
                document.getElementById('prCounter').textContent = '0';
            }
        }

        // Load recent PRs
        async function loadRecentPRs() {
            try {
                const response = await fetch(`${API_BASE}/api/recent-prs`);
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                const data = await response.json();
                
                const prList = document.getElementById('prList');
                
                if (data.prs && data.prs.length > 0) {
                    prList.innerHTML = data.prs.map(pr => `
                        <div class="pr-item">
                            <div class="pr-repo">${pr.owner}/${pr.repo}</div>
                            <div class="pr-time">${formatTime(pr.created_at)}</div>
                            <a href="${pr.url}" target="_blank" class="pr-link">View PR ↗</a>
                        </div>
                    `).join('');
                } else {
                    prList.innerHTML = '<div class="loading">No PRs yet. Be the first!</div>';
                }
            } catch (error) {
                console.error('Error loading PRs:', error);
                document.getElementById('prList').innerHTML = '<div class="loading">No recent PRs to display</div>';
            }
        }

        // Animate counter
        function animateCounter(element, start, end, duration) {
            const startTime = Date.now();
            const timer = setInterval(() => {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const current = Math.floor(start + (end - start) * easeOutQuad(progress));
                element.textContent = current.toLocaleString();
                
                if (progress === 1) {
                    clearInterval(timer);
                }
            }, 16);
        }

        function easeOutQuad(t) {
            return t * (2 - t);
        }

        // Format relative time
        function formatTime(timestamp) {
            const date = new Date(timestamp);
            const now = new Date();
            const diff = Math.floor((now - date) / 1000); // seconds

            if (diff < 60) return 'just now';
            if (diff < 3600) return `${Math.floor(diff / 60)}m ago`;
            if (diff < 86400) return `${Math.floor(diff / 3600)}h ago`;
            if (diff < 604800) return `${Math.floor(diff / 86400)}d ago`;
            return date.toLocaleDateString();
        }

        // Generate dynamic badge
        async function generateBadge() {
            const repo = document.getElementById('repo-input').value.trim();
            const badgeType = document.getElementById('badge-type')?.value || 'friendly';
            const result = document.getElementById('badge-result');
            const copyRow = document.getElementById('badge-copy-row');
            const copyInput = document.getElementById('badge-markdown');
            if (!repo) {
                result.innerHTML = '<p>Please enter a repository.</p>';
                if (copyRow) copyRow.style.display = 'none';
                return;
            }

            let url, altText, markdown;
            if (badgeType === 'pr-count') {
                const parts = repo.split('/');
                if (parts.length !== 2 || !parts[0] || !parts[1]) {
                    result.innerHTML = '<p>Please enter a valid repository in owner/repo format.</p>';
                    if (copyRow) copyRow.style.display = 'none';
                    return;
                }
                url = `${API_BASE}/badge/${encodeURIComponent(parts[0])}/${encodeURIComponent(parts[1])}`;
                altText = 'Anonymous PRs';
                markdown = `![Anonymous PRs](${url})`;
            } else {
                url = `${API_BASE}/badges/anonymous-friendly.svg?repo=${encodeURIComponent(repo)}`;
                altText = 'Anonymous Contributor Friendly';
                markdown = `![Anonymous Contributor Friendly](${url})`;
            }

            try {
                const response = await fetch(url);
                if (response.ok) {
                    result.innerHTML = `<img src="${url}" alt="${altText}" style="height: 20px;"><br><code>${markdown}</code>`;
                    if (copyInput && copyRow) {
                        copyInput.value = markdown;
                        copyRow.style.display = 'grid';
                    }
                } else {
                    result.innerHTML = '<p>Repository not verified. Add a .gitgost.yml file to your repo root to enable the dynamic badge.</p>';
                    if (copyRow) copyRow.style.display = 'none';
                }
            } catch (error) {
                result.innerHTML = '<p>Error generating badge.</p>';
                if (copyRow) copyRow.style.display = 'none';
            }
        }

        function copyBadgeMarkdown() {
            const input = document.getElementById('badge-markdown');
            const btn = document.getElementById('badge-copy-btn');
            if (!input) return;
            input.select();
            input.setSelectionRange(0, input.value.length);
            navigator.clipboard?.writeText(input.value);
            if (btn) {
                const original = btn.innerHTML;
                btn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true" focusable="false"><path fill="currentColor" d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path></svg>`;
                setTimeout(() => { btn.innerHTML = original; }, 1200);
            }
        }

        // --- Markdown helpers ---
        function loadScript(src) {
            return new Promise((resolve, reject) => {
                const el = document.createElement('script');
                el.src = src;
                el.onload = () => resolve();
                el.onerror = () => reject(new Error(`Failed to load ${src}`));
                document.head.appendChild(el);
            });
        }

        async function ensureMarkedLoaded() {
            if (window.marked?.parse) return true;
            const cdns = [
                'https://cdn.jsdelivr.net/npm/marked@12.0.2/marked.min.js',
                'https://unpkg.com/marked@12.0.2/marked.min.js'
            ];
            for (const src of cdns) {
                try {
                    await loadScript(src);
                    if (window.marked?.parse) return true;
                } catch (e) {
                    console.warn(e.message);
                }
            }
            return false;
        }

        function escapeHtml(str) {
            return (str || '')
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#39;');
        }

        function renderMarkdown(value) {
            const safe = value || '';
            if (window.marked?.parse) {
                return window.marked.parse(safe);
            }
            return escapeHtml(safe).replace(/\n/g, '<br>');
        }

        function setupMarkdownEditor({ textareaId, previewId, tabWriteId, tabPreviewId }) {
            const textarea = document.getElementById(textareaId);
            const preview = document.getElementById(previewId);
            const tabWrite = document.getElementById(tabWriteId);
            const tabPreview = document.getElementById(tabPreviewId);

            if (!textarea || !preview || !tabWrite || !tabPreview) {
                return;
            }

            const showWrite = () => {
                tabWrite.classList.add('active');
                tabPreview.classList.remove('active');
                textarea.style.display = 'block';
                preview.style.display = 'none';
            };

            const showPreview = () => {
                tabPreview.classList.add('active');
                tabWrite.classList.remove('active');
                textarea.style.display = 'none';
                preview.style.display = 'block';
                const value = textarea.value || '';
                preview.innerHTML = value.trim() ? renderMarkdown(value) : '<p style="opacity:.6;">Nothing to preview</p>';
            };

            tabWrite.addEventListener('click', showWrite);
            tabPreview.addEventListener('click', showPreview);

            // Sync on input for smoother preview if already visible
            textarea.addEventListener('input', () => {
                if (preview.style.display !== 'none') {
                    const value = textarea.value || '';
                    preview.innerHTML = value.trim() ? renderMarkdown(value) : '<p style="opacity:.6;">Nothing to preview</p>';
                }
            });

            showWrite();
        }

        // --- Anonymous Issues ---
        // Tab switching functionality
        const issueTabs = document.querySelectorAll('.issue-tab');
        const issueForms = document.querySelectorAll('.issue-form');

        issueTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const targetTab = tab.dataset.tab;
                
                // Update tab states
                issueTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Update form states
                issueForms.forEach(form => {
                    form.classList.remove('active');
                    if (form.id === `${targetTab}-issue-form`) {
                        form.classList.add('active');
                    }
                });
            });
        });

        const issueSubmitBtn = document.getElementById('issue-submit');
        const commentSubmitBtn = document.getElementById('comment-submit');

        (async () => {
            await ensureMarkedLoaded();
            setupMarkdownEditor({
                textareaId: 'comment-body',
                previewId: 'comment-preview',
                tabWriteId: 'comment-tab-write',
                tabPreviewId: 'comment-tab-preview'
            });
            setupMarkdownEditor({
                textareaId: 'issue-body',
                previewId: 'issue-preview',
                tabWriteId: 'issue-tab-write',
                tabPreviewId: 'issue-tab-preview'
            });
        })();

        issueSubmitBtn?.addEventListener('click', async () => {
            const owner = document.getElementById('issue-owner')?.value.trim();
            const repo = document.getElementById('issue-repo')?.value.trim();
            const title = document.getElementById('issue-title')?.value.trim();
            const body = document.getElementById('issue-body')?.value.trim();
            const labelsRaw = document.getElementById('issue-labels')?.value.trim();
            const statusEl = document.getElementById('issue-status');
            const resultEl = document.getElementById('issue-result');

            if (!owner || !repo || !title || !body) {
                if (statusEl) statusEl.textContent = 'Missing required fields';
                return;
            }

            const labels = labelsRaw ? labelsRaw.split(',').map(l => l.trim()).filter(Boolean) : [];

            if (issueSubmitBtn) issueSubmitBtn.disabled = true;
            if (statusEl) statusEl.textContent = 'Sending...';
            if (resultEl) resultEl.textContent = '';

            try {
                const response = await fetch(`${API_BASE}/v1/gh/${encodeURIComponent(owner)}/${encodeURIComponent(repo)}/issues/anonymous`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Gitgost-Key': 'gitgost-anonymous'
                    },
                    body: JSON.stringify({ title, body, labels })
                });

                if (!response.ok) {
                    const text = await response.text();
                    throw new Error(`HTTP ${response.status}: ${text}`);
                }

                const data = await response.json();
                if (statusEl) statusEl.textContent = 'Created';

                const parts = [];
                if (data.issue_url) parts.push(`Issue: ${data.issue_url}`);
                if (data.hash) parts.push(`Hash: ${data.hash}`);
                if (data.karma !== undefined) parts.push(`Karma: ${data.karma}`);
                if (data.user_token) parts.push(`User token: ${data.user_token} (keep it to comment with the same hash/karma)`);
                if (data.issue_reply_token) parts.push(`Reply token: ${data.issue_reply_token}`);
                const reportHint = `${API_BASE}/v1/moderation/report`;
                if (resultEl) resultEl.textContent = `${parts.join(' · ')}`;
            } catch (error) {
                console.error('Error creating issue:', error);
                if (statusEl) statusEl.textContent = 'Error';
                if (resultEl) resultEl.textContent = 'Could not create the issue. Verify owner/repo and that issues are enabled.';
            } finally {
                if (issueSubmitBtn) issueSubmitBtn.disabled = false;
            }
        });

        commentSubmitBtn?.addEventListener('click', async () => {
            const owner = document.getElementById('comment-owner')?.value.trim();
            const repo = document.getElementById('comment-repo')?.value.trim();
            const number = document.getElementById('comment-number')?.value.trim();
            const token = document.getElementById('comment-token')?.value.trim();
            const body = document.getElementById('comment-body')?.value.trim();
            const statusEl = document.getElementById('comment-status');
            const resultEl = document.getElementById('comment-result');

            if (!owner || !repo || !number || !body) {
                if (statusEl) statusEl.textContent = 'Missing required fields';
                return;
            }

            if (commentSubmitBtn) commentSubmitBtn.disabled = true;
            if (statusEl) statusEl.textContent = 'Sending...';
            if (resultEl) resultEl.textContent = '';

            const payload = { body };
            if (token) payload.user_token = token;

            try {
                const response = await fetch(`${API_BASE}/v1/gh/${encodeURIComponent(owner)}/${encodeURIComponent(repo)}/issues/${encodeURIComponent(number)}/comments/anonymous`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Gitgost-Key': 'gitgost-anonymous'
                    },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const text = await response.text();
                    throw new Error(`HTTP ${response.status}: ${text}`);
                }

                const data = await response.json();
                if (statusEl) statusEl.textContent = 'Sent';

                const parts = [];
                if (data.hash) parts.push(`Hash: ${data.hash}`);
                if (data.karma !== undefined) parts.push(`Karma: ${data.karma}`);
                if (data.user_token && !token) parts.push(`New user token: ${data.user_token}`);
                const reportHint = `${API_BASE}/v1/moderation/report`;
                if (resultEl) resultEl.textContent = `${parts.join(' · ')}. Reports: ${reportHint}`;
            } catch (error) {
                console.error('Error sending comment:', error);
                if (statusEl) statusEl.textContent = 'Error';
                if (resultEl) resultEl.textContent = 'Could not send. Check issue # and permissions.';
            } finally {
                if (commentSubmitBtn) commentSubmitBtn.disabled = false;
            }
        });

        // PR comment form
        const prCommentSubmitBtn = document.getElementById('pr-comment-submit');
        document.getElementById('pr-comment-issue-form')?.addEventListener('submit', async (e) => {
            e.preventDefault();
            const owner = document.getElementById('pr-owner')?.value.trim();
            const repo = document.getElementById('pr-repo')?.value.trim();
            const number = document.getElementById('pr-number')?.value.trim();
            const token = document.getElementById('pr-token')?.value.trim();
            const body = document.getElementById('pr-comment-body')?.value.trim();
            const statusEl = document.getElementById('pr-comment-status');
            const resultEl = document.getElementById('pr-comment-result');

            if (!owner || !repo || !number || !body) {
                if (statusEl) statusEl.textContent = 'Missing required fields';
                return;
            }

            if (prCommentSubmitBtn) prCommentSubmitBtn.disabled = true;
            if (statusEl) statusEl.textContent = 'Sending...';
            if (resultEl) resultEl.textContent = '';

            const payload = { body };
            if (token) payload.user_token = token;

            try {
                const response = await fetch(`${API_BASE}/v1/gh/${encodeURIComponent(owner)}/${encodeURIComponent(repo)}/pulls/${encodeURIComponent(number)}/comments/anonymous`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Gitgost-Key': 'gitgost-anonymous'
                    },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const text = await response.text();
                    throw new Error(`HTTP ${response.status}: ${text}`);
                }

                const data = await response.json();
                if (statusEl) statusEl.textContent = 'Sent';

                const parts = [];
                if (data.comment_url) parts.push(`Comment: ${data.comment_url}`);
                if (data.hash) parts.push(`Hash: ${data.hash}`);
                if (data.karma !== undefined) parts.push(`Karma: ${data.karma}`);
                if (data.user_token && !token) parts.push(`New user token: ${data.user_token}`);
                const reportHint = `${API_BASE}/v1/moderation/report`;
                if (resultEl) resultEl.textContent = `${parts.join(' · ')}. Reports: ${reportHint}`;
            } catch (error) {
                console.error('Error sending PR comment:', error);
                if (statusEl) statusEl.textContent = 'Error';
                if (resultEl) resultEl.textContent = 'Could not send. Check PR # and that the repository exists.';
            } finally {
                if (prCommentSubmitBtn) prCommentSubmitBtn.disabled = false;
            }
        });

        // ntfy topic lookup
        async function lookupNtfyTopic() {
            const hash = document.getElementById('ntfy-hash-input')?.value.trim();
            const resultEl = document.getElementById('ntfy-result');
            const errorEl = document.getElementById('ntfy-error');
            const topicDisplay = document.getElementById('ntfy-topic-display');
            const subscribeLink = document.getElementById('ntfy-subscribe-link');

            if (resultEl) resultEl.style.display = 'none';
            if (errorEl) { errorEl.style.display = 'none'; errorEl.textContent = ''; }

            if (!hash) {
                if (errorEl) { errorEl.textContent = 'Please enter a PR hash.'; errorEl.style.display = 'block'; }
                return;
            }

            try {
                const response = await fetch(`${API_BASE}/api/pr-status/${encodeURIComponent(hash)}`);
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                const data = await response.json();

                if (topicDisplay) topicDisplay.textContent = data.subscribe_url;
                if (subscribeLink) subscribeLink.href = data.subscribe_url;
                if (resultEl) resultEl.style.display = 'block';
            } catch (err) {
                if (errorEl) { errorEl.textContent = 'Could not fetch topic. Check the hash and try again.'; errorEl.style.display = 'block'; }
            }
        }

        function copyNtfyTopic() {
            const topicDisplay = document.getElementById('ntfy-topic-display');
            const btn = document.getElementById('ntfy-copy-btn');
            if (!topicDisplay) return;
            navigator.clipboard?.writeText(topicDisplay.textContent);
            if (btn) {
                const orig = btn.textContent;
                btn.textContent = 'Copied!';
                setTimeout(() => { btn.textContent = orig; }, 1200);
            }
        }

        // Terminal tab switching
        document.querySelectorAll('.terminal-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.terminal-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                const target = tab.dataset.terminal;
                document.getElementById('terminal-push').style.display = target === 'push' ? '' : 'none';
                document.getElementById('terminal-update').style.display = target === 'update' ? '' : 'none';
                document.getElementById('terminal-fetch').style.display = target === 'fetch' ? '' : 'none';
            });
        });

        // Load data on init
        loadStats();
        loadRecentPRs();

        // Load build info from /health
        async function loadBuildInfo() {
            try {
                const res = await fetch('/health');
                if (!res.ok) return;
                const data = await res.json();
                const hash = data.deployedCommit || 'main';
                const short = hash.length > 7 ? hash.slice(0, 7) : hash;
                const date = data.deployedAt ? data.deployedAt.slice(0, 10) : '';
                const commitEl = document.getElementById('footer-commit');
                const dateEl = document.getElementById('footer-date');
                if (commitEl) {
                    commitEl.textContent = short;
                    commitEl.href = `https://github.com/livrasand/gitGost/commit/${hash}`;
                }
                if (dateEl && date) dateEl.textContent = ` (${date})`;
            } catch (_) {}
        }
        loadBuildInfo();

    </script>

    <footer style="font-size:0.75rem;color:var(--fg-secondary);margin-top:2rem;padding:1.5rem 1rem;border-top:1px solid var(--border);text-align:center;">
        <div style="max-width:56rem;margin:0 auto;display:flex;flex-direction:column;gap:0.5rem;align-items:center;">
            <p style="margin:0;font-family:'IBM Plex Mono',monospace;">
                deployed from&nbsp;<a id="footer-commit" href="https://github.com/livrasand/gitGost" target="_blank"
                   style="color:var(--accent);text-decoration:none;font-weight:600;">main</a><span id="footer-date" style="color:var(--fg-secondary);"></span>
            </p>
            <p style="margin:0;display:flex;gap:1rem;align-items:center;">
                <a href="/VERIFY" style="font-family:'IBM Plex Mono',monospace;color:var(--fg-secondary);text-decoration:none;transition:color 0.15s;" onmouseover="this.style.color='var(--accent)'" onmouseout="this.style.color='var(--fg-secondary)'">verify build</a>
                <span style="color:var(--border);">·</span>
                <a href="https://github.com/livrasand/gitGost" target="_blank" style="font-family:'IBM Plex Mono',monospace;color:var(--fg-secondary);text-decoration:none;transition:color 0.15s;" onmouseover="this.style.color='var(--accent)'" onmouseout="this.style.color='var(--fg-secondary)'">source</a>
                <span style="color:var(--border);">·</span>
                <a href="/health" style="font-family:'IBM Plex Mono',monospace;color:var(--fg-secondary);text-decoration:none;transition:color 0.15s;" onmouseover="this.style.color='var(--accent)'" onmouseout="this.style.color='var(--fg-secondary)'">health</a>
            </p>
        </div>
    </footer>
</body>
</html>